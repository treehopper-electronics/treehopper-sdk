package io.treehopper.libraries.{{NamespaceLower}}.{{NameLower}};

import io.treehopper.libraries.RegisterManager;
import io.treehopper.libraries.Register;
import io.treehopper.SMBusDevice;
import java.util.Arrays;

/// This file was auto-generated by RegisterGenerator. Any changes to it will be overwritten!
class {{Name}}Registers extends RegisterManager
{
    SMBusDevice _dev;
    {{Name}}Registers(SMBusDevice dev)
    {
        super(dev);
        {{#RegisterList}}
        {{CapitalizedName}} = new {{CapitalizedName}}Register(this);
        _registers.add({{CapitalizedName}});
        {{/RegisterList}}
    }

{{#RegisterList}}
    {{CapitalizedName}}Register {{CapitalizedName}};
{{/RegisterList}}

{{#RegisterList}}
    class {{CapitalizedName}}Register extends Register
    {
        {{CapitalizedName}}Register(RegisterManager regManager) { super(regManager, {{Address}}, {{NumBytes}}, {{IsBigEndian}}); }

    {{#Values.Values}}
        int {{CapitalizedName}};
    {{/Values.Values}}

{{#Values.Values}}
        {{#Enum}}
                public {{Name}} get{{CapitalizedName}}() { for ({{Name}} b : {{Name}}.values()) { if(b.getVal() == {{CapitalizedName}}) return b; } return {{Name}}.values()[0]; }
                public void set{{CapitalizedName}}({{Name}} enumVal) { {{CapitalizedName}} = enumVal.getVal(); }
        {{/Enum}}
{{/Values.Values}}

        public {{CapitalizedName}}Register read()
        {
            manager.read(this);
            return this;
        }

        public long getValue() { return {{#Values.Values}}(({{CapitalizedName}} & {{Bitmask}}) << {{Offset}}){{^Last}} | {{/Last}}{{/Values.Values}}; }
        public void setValue(long value)
        {
            {{#Values.Values}}
            {{#IsSigned}}
            {{CapitalizedName}} = (int)(((value >> {{Offset}}) & {{Bitmask}}) << (32 - {{Offset}} - {{Width}})) >> (32 - {{Offset}} - {{Width}});
            {{/IsSigned}}
            {{^IsSigned}}
            {{CapitalizedName}} = (int)((value >> {{Offset}}) & {{Bitmask}});
            {{/IsSigned}}
            {{/Values.Values}}
        }
    }
{{/RegisterList}}
}
