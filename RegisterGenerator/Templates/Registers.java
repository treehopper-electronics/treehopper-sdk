/// This file was auto-generated by RegisterGenerator. Any changes to it will be overwritten!
package io.treehopper.libraries.{{NamespaceLower}}.{{NameLower}};

import io.treehopper.libraries.IRegisterManagerAdapter;
import io.treehopper.libraries.RegisterManager;
import io.treehopper.libraries.Register;
import java.util.Arrays;

class {{Name}}Registers extends RegisterManager
{
    {{Name}}Registers(IRegisterManagerAdapter adapter)
    {
        super(adapter);
        {{#RegisterList}}
        {{Name}} = new {{CapitalizedName}}Register(this);
        _registers.add({{Name}});
        {{/RegisterList}}
    }

{{#RegisterList}}
    {{CapitalizedName}}Register {{Name}};
{{/RegisterList}}

{{#RegisterList}}
    class {{CapitalizedName}}Register extends Register
    {
        {{CapitalizedName}}Register(RegisterManager regManager) { super(regManager, {{Address}}, {{NumBytes}}, {{IsBigEndian}}); }

    {{#Values.Values}}
        int {{Name}};
    {{/Values.Values}}

{{#Values.Values}}
        {{#Enum}}
                public {{PluralizedName}} get{{CapitalizedName}}() { for ({{PluralizedName}} b : {{PluralizedName}}.values()) { if(b.getVal() == {{Name}}) return b; } return {{PluralizedName}}.values()[0]; }
                public void set{{CapitalizedName}}({{PluralizedName}} enumVal) { {{Name}} = enumVal.getVal(); }
        {{/Enum}}
{{/Values.Values}}

        public {{CapitalizedName}}Register read()
        {
            manager.read(this);
            return this;
        }

        public long getValue() { return {{#Values.Values}}(({{Name}} & {{Bitmask}}) << {{Offset}}){{^Last}} | {{/Last}}{{/Values.Values}}; }
        public void setValue(long _value)
        {
            {{#Values.Values}}
            {{#IsSigned}}
            {{Name}} = (int)(((_value >> {{Offset}}) & {{Bitmask}}) << (32 - {{Width}})) >> (32 - {{Width}});
            {{/IsSigned}}
            {{^IsSigned}}
            {{Name}} = (int)((_value >> {{Offset}}) & {{Bitmask}});
            {{/IsSigned}}
            {{/Values.Values}}
        }
    }
{{/RegisterList}}
}
